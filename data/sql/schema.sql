CREATE TABLE i_store_address (id BIGINT AUTO_INCREMENT, customer_id BIGINT NOT NULL, street VARCHAR(255) NOT NULL, state VARCHAR(255) NOT NULL, city VARCHAR(255) NOT NULL, zipcode BIGINT NOT NULL, country VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX customer_id_idx (customer_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE i_store_brand (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, description VARCHAR(255) NOT NULL, url VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE i_store_category (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL UNIQUE, parent_category_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, slug VARCHAR(255), UNIQUE INDEX i_store_category_sluggable_idx (slug), INDEX parent_category_id_idx (parent_category_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE i_store_comment (id BIGINT AUTO_INCREMENT, item_id BIGINT NOT NULL, title VARCHAR(255) NOT NULL, description VARCHAR(255) NOT NULL, note BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX item_id_idx (item_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE i_store_customer (id BIGINT AUTO_INCREMENT, login VARCHAR(255) NOT NULL UNIQUE, password VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL UNIQUE, firstname VARCHAR(255) NOT NULL, lastname VARCHAR(255) NOT NULL, telephone VARCHAR(255) NOT NULL, sexe VARCHAR(255) NOT NULL, date_of_birth DATE NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE i_store_item (id BIGINT AUTO_INCREMENT, category_id BIGINT NOT NULL, brand_id BIGINT NOT NULL, name VARCHAR(255) NOT NULL UNIQUE, image VARCHAR(255) NOT NULL, short_description VARCHAR(255) NOT NULL, description TEXT NOT NULL, unit_cost FLOAT(18, 2) NOT NULL, weight FLOAT(18, 2) NOT NULL, is_activated TINYINT(1) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX category_id_idx (category_id), INDEX brand_id_idx (brand_id), PRIMARY KEY(id)) ENGINE = INNODB;
ALTER TABLE i_store_address ADD CONSTRAINT i_store_address_customer_id_i_store_customer_id FOREIGN KEY (customer_id) REFERENCES i_store_customer(id);
ALTER TABLE i_store_category ADD CONSTRAINT i_store_category_parent_category_id_i_store_category_id FOREIGN KEY (parent_category_id) REFERENCES i_store_category(id);
ALTER TABLE i_store_comment ADD CONSTRAINT i_store_comment_item_id_i_store_item_id FOREIGN KEY (item_id) REFERENCES i_store_item(id);
ALTER TABLE i_store_item ADD CONSTRAINT i_store_item_category_id_i_store_category_id FOREIGN KEY (category_id) REFERENCES i_store_category(id);
ALTER TABLE i_store_item ADD CONSTRAINT i_store_item_brand_id_i_store_brand_id FOREIGN KEY (brand_id) REFERENCES i_store_brand(id);
